# Upstream自動マージツール ドキュメント総合ガイド

**作成日**: 2025-10-19  
**最終更新日**: 2025-10-19  
**版**: 1.0

---

## 📋 ドキュメント構成

Upstream自動マージツールのドキュメントは、ソフトウェア開発ライフサイクルに沿って体系的に整理されています。

```
docs/
├── 02_requirements/          # 要件定義フェーズ
│   └── features/
│       └── upstream-merge-tool-requirements.md
│           └── 機能要件・非機能要件の詳細定義
│
├── 03_design/                # 設計フェーズ
│   ├── architecture/
│   │   └── upstream-merge-tool-architecture.md
│   │       └── システムアーキテクチャ、モジュール設計
│   └── features/
│
├── 04_implementation/        # 実装フェーズ
│   └── plans/
│       └── upstream-merge-tool/
│           ├── README.md
│           │   └── 実装計画の概要・ナビゲーション
│           └── 20251019_01_implementation-plan.md
│               └── 3フェーズの詳細な実装計画
│
└── 05_testing/               # テストフェーズ
    └── test-cases/
        └── upstream-merge-tool-test-cases.md
            └── ユニット・統合・E2Eテストケース
```

---

## 🎯 各ドキュメントの役割

### 1. 要件定義書
**ファイル**: `docs/02_requirements/features/upstream-merge-tool-requirements.md`

**目的**: 機能要件・非機能要件を明確に定義し、実装の羅針盤を提供

**主な内容**:
- 背景と課題
- ツール目的
- 機能要件（設定機能、Git操作、コンフリクト自動解決、レポート機能）
- 非機能要件（配布形態、クロスプラットフォーム、エラーハンドリング）
- ユースケース
- 受け入れ基準

**読むべき人**:
- プロジェクト参加者（全員）
- 新規参加者のオンボーディング

**参照ポイント**:
- 「2.3 コンフリクト自動解決機能」で3つの条件を確認
- 「4.1 ツール利用者のシナリオ」で使用フローを理解

---

### 2. アーキテクチャ設計書
**ファイル**: `docs/03_design/architecture/upstream-merge-tool-architecture.md`

**目的**: システム全体の構造を定義し、開発者に実装の指針を提供

**主な内容**:
- システム構成図・フロー図
- モジュール設計（8つのモジュール）
- 各モジュールの責務とインターフェース
- ファイル構成
- データフロー
- エラーハンドリング戦略
- 拡張性・保守性・パフォーマンス設計

**読むべき人**:
- 開発者（実装者）
- アーキテクチャレビュー担当者

**参照ポイント**:
- 「2. モジュール設計」で各モジュールの役割を把握
- 「3. データフロー設計」で処理の流れを理解

---

### 3. 実装計画書
**ファイル**: `docs/04_implementation/plans/upstream-merge-tool/20251019_01_implementation-plan.md`

**目的**: 実装タスクを段階的に定義し、開発のロードマップを提供

**主な内容**:
- 3フェーズの実装計画（Phase 1: 2週間、Phase 2: 1週間、Phase 3: 1週間）
- 各フェーズの目標と主要タスク
- タスク詳細（概要、実装内容、成果物、テスト方法、完了条件）
- リスク管理
- 実装ガイドライン
- 進捗トラッキング

**読むべき人**:
- 開発者（タスク担当者）
- プロジェクトマネージャー

**参照ポイント**:
- 「Phase 1」から始める
- 各タスクの「完了条件」をチェックリストとして活用

---

### 4. テストケース文書
**ファイル**: `docs/05_testing/test-cases/upstream-merge-tool-test-cases.md`

**目的**: テスト体系とテストケースを定義し、品質保証を実現

**主な内容**:
- テスト戦略（ユニット・統合・E2E）
- ユニットテスト（Logger、ConfigManager、GitService、ConflictResolver、ReportGenerator）
- 統合テスト
- E2E テスト（正常系3シナリオ、エラーケース4ケース）
- テスト実行スケジュール
- テスト環境セットアップ
- テスト成功基準
- テスト報告書テンプレート

**読むべき人**:
- テスト担当者
- 開発者（セルフテスト）
- QA担当者

**参照ポイント**:
- 「4. エンドツーエンドテスト」でテストシナリオを確認
- 「7. テスト成功基準」でリリース判定基準を確認

---

## 📊 実装ロードマップ

```
Week 1
├─ Phase 1: コア機能実装
│  ├─ T1.1: プロジェクト初期化
│  ├─ T1.2: Logger モジュール
│  ├─ T1.3: ConfigManager モジュール
│  ├─ T1.4: GitService モジュール
│  └─ T1.5: メイン処理フロー
│
Week 2
├─ Phase 2: コンフリクト解決機能実装
│  ├─ T2.1: ConflictResolver（検出）
│  ├─ T2.2: ConflictResolver（条件判定）
│  ├─ T2.3: ConflictResolver（解決）
│  └─ T2.4: メイン処理フロー統合
│
Week 3
├─ Phase 3: レポート・ビルド・デプロイ
│  ├─ T3.1: ReportGenerator モジュール
│  ├─ T3.2: メイン処理フロー最終版
│  ├─ T3.3: クロスプラットフォームビルド
│  └─ T3.4: ドキュメント整備
│
Week 4
└─ テスト・リリース
   ├─ 全テスト実行
   ├─ クロスプラットフォーム検証
   └─ リリース
```

---

## 🔄 ドキュメント参照の流れ

### シナリオ1: 新規参加者のオンボーディング

```
1. 要件定義書 を読む
   ↓
2. アーキテクチャ設計書 で全体像を理解
   ↓
3. 実装計画書 で自分の担当タスクを確認
   ↓
4. テストケース で品質基準を理解
```

### シナリオ2: 開発者が実装を進める

```
1. 実装計画書 で自分の担当タスクを確認
   ↓
2. アーキテクチャ設計書 で詳細な実装方針を確認
   ↓
3. テストケース でテスト方法を確認
   ↓
4. 実装
   ↓
5. テスト実行
   ↓
6. 完了条件チェック
```

### シナリオ3: コンフリクト解決ロジックを理解する

```
1. 要件定義書 の「2.3 コンフリクト自動解決機能」で要件確認
   ↓
2. アーキテクチャ設計書 の「2.2.3 ConflictResolver」で設計確認
   ↓
3. 実装計画書 の「Phase 2」で実装方針確認
   ↓
4. テストケース の「2.4 ConflictResolver テスト」でテスト方法確認
```

---

## 📝 ドキュメント更新ガイド

### 要件変更時

1. 要件定義書 の該当セクションを更新
2. 影響を受けるドキュメントを確認・更新
   - アーキテクチャ設計書
   - 実装計画書
   - テストケース

### 実装進捗の記録

実装中に判明したことを記録：

- **実装計画の進捗**: `docs/04_implementation/plans/upstream-merge-tool/20251019_XX_progress.md`
- **技術調査結果**: `docs/07_research/2025_10/`
- **問題管理**: `docs/issues/open/` または `docs/issues/in-progress/`

### リリース時

1. すべてのドキュメントが最新か確認
2. 最終更新日を更新
3. 版を上げ、版履歴に記録
4. テスト報告書を完成させる

---

## 🛠️ クイックリファレンス

### よくある質問と答え

**Q: 3つのコンフリクト自動解決条件は何ですか？**

A: 以下の3つをすべて満たす必要があります：
1. ファイルにコンフリクトマーカーが存在
2. Upstream側で変更されていない
3. 独自実装マーカーで完全に囲まれている

詳細は → 要件定義書「2.3 コンフリクト自動解決機能」

---

**Q: どのモジュールから実装を始めるべき？**

A: Logger → ConfigManager → GitService の順序です。

詳細は → 実装計画書「Phase 1」

---

**Q: E2E テストをローカルで実行するには？**

A: `src/__tests__/e2e/` ディレクトリのシェルスクリプトを実行

詳細は → テストケース「4. エンドツーエンドテスト」

---

**Q: Windows版をビルドするには？**

A: `bun run build:windows` コマンドを実行

詳細は → 実装計画書「4.1 タスク一覧 - T3.3」

---

## 📚 ドキュメント一覧

| ドキュメント | ファイル | ページ数 | 主要読者 |
|-------------|---------|---------|---------|
| 要件定義書 | `docs/02_requirements/features/upstream-merge-tool-requirements.md` | 8 | 全員 |
| アーキテクチャ設計書 | `docs/03_design/architecture/upstream-merge-tool-architecture.md` | 12 | 開発者 |
| 実装計画書 | `docs/04_implementation/plans/upstream-merge-tool/20251019_01_implementation-plan.md` | 14 | 開発者・PM |
| テストケース | `docs/05_testing/test-cases/upstream-merge-tool-test-cases.md` | 18 | テスト・開発者 |
| ドキュメント総合ガイド | このファイル | 5 | 全員 |

**合計**: 約 57 ページのドキュメント

---

## ✅ チェックリスト

プロジェクト開始時：

- [ ] 要件定義書を読んだ
- [ ] アーキテクチャ設計書で全体像を理解した
- [ ] 自分の担当タスクを実装計画書で確認した
- [ ] テストケースを確認した
- [ ] 質問やリスクを共有した

Phase 1 完了時：

- [ ] 実装計画書「Phase 1」の全タスクが完了
- [ ] テストケース「2.1-2.5」のユニットテストが全て PASS
- [ ] ログに詳細なメッセージが出力される

Phase 2 完了時：

- [ ] 実装計画書「Phase 2」の全タスクが完了
- [ ] テストケース「3」の統合テストが全て PASS
- [ ] コンフリクトが自動解決される

Phase 3 完了時：

- [ ] 実装計画書「Phase 3」の全タスクが完了
- [ ] テストケース「4」のE2Eテストが全て PASS
- [ ] 各OS向けバイナリが生成される
- [ ] ドキュメントが完成している

---

## 🚀 次のステップ

1. **今すぐ始める**: 実装計画書「Phase 1 - T1.1」から開始
2. **質問がある**: 対応するドキュメントのセクションを参照
3. **問題が見つかった**: `docs/issues/open/` に記録
4. **技術調査が必要**: `docs/07_research/` に調査結果を記録

---

## 📞 サポート

各ドキュメントの「関連ドキュメント」セクションで、参照可能なドキュメントを確認できます。

不明な点は、このガイドの「クイックリファレンス」セクションを参照してください。

---

**作成日**: 2025-10-19  
**最終更新日**: 2025-10-19  
**管理者**: Upstream自動マージツール開発チーム
